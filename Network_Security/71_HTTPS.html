<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no,viewport-fit=cover">
		<link rel="stylesheet" href="./index.css">
		<style>
			@media (max-width:450px){
				main{
					width:auto;
					height:auto;
					padding:0;
					margin:0;
				}
			}
		</style>
		<title>HTTPS协议</title>
	</head>
	<body>
		<main>
			<section>
				<h3>HTTPS</h3>
				<ul>
					<li>我们知道HTTP协议是明文传输，在早期只展示静态内容时没问题。随着互联网的快速发展，人们对于网络传输安全性的要求也越来越高，HTTPS协议因此出现。</li>
					<li>HTTPS：超文本传输安全协议，是以安全为目标的HTTP通道，可以理解为HTTP的安全版。</li>
					<li>HTTPS：采用对称加密和非对称加密结合的方式来保护浏览器和服务器之间的通信安全。</li>
					<li>对称加密算法加密数据+非对称加密算法交换密钥+数字证书验证身份 = 安全</li>
					<li>HTTPS其实由两部分组成：HTTP + SSL/TLS，也就是在HTTP上又加了一层处理加密信息的模块。服务器和客户端的信息传输都会通过TLS进行加密，所以传输的数据都是加密后的数据。</li>
					<li>传统的HTTP协议通道：传统的HTTP报文是直接将报文信息传输到TCP然后TCP再通过TCP套接字发送给目的主机上。</li>
					<li>HTTPS协议通道：HTTPS是HTTP报文直接将报文信息传输给SSL套接字进行加密，SSL加密后将加密的报文发送给TCP套接字，然后TCP套接字再将加密后的报文发送给目的主机，目的主机将通过TCP套接字获取加密后的报文给SSL套接字，SSL解密给对应进程。</li>
				</ul>
			</section>
			<section>
				<h3>HTTPS加密握手过程</h3>
				<ul>
					<li>浏览器端 ===> 发送请求网址 ===> 服务器端</li>
					<li>服务器端 ===> 生成证书公钥，证书密钥</li>
					<li>服务器端 ===> 返回证书公钥 ===> 浏览器端</li>
					<li>浏览器端 ===> 验证证书是否有效，有效则生成一个随机值，用证书的公钥加密随机值</li>
					<li>浏览器端 ===> 将加密后的密钥发送 ===> 服务器端</li>
					<li>服务器端 ===> 用私钥解密密钥</li>
					<li>服务器端 ===> 用密钥加密要发送的内容</li>
					<li>服务器端 ===> 将加密后的内容发送 ===> 浏览器端</li>
					<li>浏览器端 ===> 用密钥解密内容信息</li>
				</ul>
			</section>
			<section>
				<h3>加密</h3>
				<ul>
					<li>TLS是基于TCP协议之上的。</li>
					<li>浏览器端 ===> TLS版本号+所支持加密套件列表+希望使用的TLS选项 ===> 服务器端</li>
					<li>浏览器端 ===> 选择一个客户端的加密套件+自己的公钥+自己的证书+希望使用的TLS选项+（要求客户端证书） ===> 服务器端</li>
					<li>浏览器端 ===> T自己的证书+使用服务器公钥和协商的加密套件加密一个对称密钥（自己生成一个随机数） ===> 服务器端</li>
					<li>浏览器端 ===> 使用私钥解密出堆成密钥（随机数）后，发送加密的finish消息，表示握手完成 ===> 服务器端</li>
				</ul>
			</section>
			<section>
				<h3>对称加密</h3>
				<ul>
					<li>对称加密采用了对称密码编码技术，它的特点是文件加密和解密使用相同的密钥加密，也就是密钥也可以做解密密钥，这种方法在密码学中叫做对称加密算法。</li>
					<li>优点：使用简单快捷，密钥较短且破译困难。</li>
					<li>缺点：密钥需要传递，传递过程中，可能被窃听和篡改。</li>
				</ul>
			</section>
			<section>
				<h3>非对称加密</h3>
				<ul>
					<li>非对称加密算法需要两个密钥：公钥和私钥。公钥与私钥是一对，如果用公钥对数据加密，只能用私钥解密；如果用私钥对数据加密，只能用公钥解密。</li>
					<li>发送人留着钥匙，把带锁的盒子传过去，加锁的人锁上，但是打不开，就是非对称的。存在问题，可能被窃听更换盒子，认证机构给盒子做签名，也就是HTTPS需要的网络证书。</li>
				</ul>
			</section>
			<section>
				<h3>对称加密和非对称加密区别</h3>
				<ul>
					<li>对称密钥只需要一把密钥，非对称加密需要两把密钥（公钥和私钥）</li>
					<li>对称加密算法简单，加密解密容易，效率高，执行快；只有一把钥匙，密文如果被拦截，且密钥也被劫持，信息很容易被破译，安全性低。非对称加密算法效率很低，安全性高。</li>
					<li>总结：非对称可靠但慢，对称高效不可靠。组合使用：非对称加密进行身份验证和密钥交换，对称加密进行数据的加密。</li>
				</ul>
			</section>
		</main>
	</body>
</html>
